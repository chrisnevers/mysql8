<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>MySql (pancakes.Pancakes.MySql)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">pancakes</a> &#x00BB; <a href="../index.html">Pancakes</a> &#x00BB; MySql</nav><h1>Module <code>Pancakes.MySql</code></h1></header><dl><dt class="spec type" id="type-connection"><a href="#type-connection" class="anchor"></a><code><span class="keyword">type</span> connection</code></dt><dd><p>The MySQL connection handler</p></dd></dl><dl><dt class="spec type" id="type-statement"><a href="#type-statement" class="anchor"></a><code><span class="keyword">type</span> statement</code><code> = string</code></dt><dd><p>A SQL statement</p></dd></dl><dl><dt class="spec type" id="type-cell"><a href="#type-cell" class="anchor"></a><code><span class="keyword">type</span> cell</code><code> = string</code></dt><dd><p>Cells are returned as strings by default</p></dd></dl><dl><dt class="spec type" id="type-row"><a href="#type-row" class="anchor"></a><code><span class="keyword">type</span> row</code><code> = <span><a href="index.html#type-cell">cell</a> array</span></code></dt><dd><p>Representation of one row of data</p></dd></dl><dl><dt class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><code><span class="keyword">type</span> result</code><code> = <span><a href="index.html#type-row">row</a> list</span></code></dt><dd><p>The result of a query that returns rows</p></dd></dl><dl><dt class="spec type" id="type-database"><a href="#type-database" class="anchor"></a><code><span class="keyword">type</span> database</code><code> = </code><code>{</code><table class="record"><tr id="type-database.host" class="anchored"><td class="def field"><a href="#type-database.host" class="anchor"></a><code>host : string;</code></td></tr><tr id="type-database.user" class="anchored"><td class="def field"><a href="#type-database.user" class="anchor"></a><code>user : string;</code></td></tr><tr id="type-database.password" class="anchored"><td class="def field"><a href="#type-database.password" class="anchor"></a><code>password : string;</code></td></tr><tr id="type-database.database" class="anchored"><td class="def field"><a href="#type-database.database" class="anchor"></a><code>database : string;</code></td></tr><tr id="type-database.port" class="anchored"><td class="def field"><a href="#type-database.port" class="anchor"></a><code>port : int;</code></td></tr></table><code>}</code></dt><dd><p>MySQL connection configuration</p></dd></dl><dl><dt class="spec exception" id="exception-ConnectionError"><a href="#exception-ConnectionError" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">ConnectionError</span> <span class="keyword">of</span> string</code></dt><dd><p>Thrown if there was an error connecting to MySQL server or the database.</p></dd></dl><dl><dt class="spec exception" id="exception-QueryError"><a href="#exception-QueryError" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">QueryError</span> <span class="keyword">of</span> string</code></dt><dd><p>Thrown if there was an error executing the query.</p></dd></dl><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : <a href="index.html#type-database">database</a> <span>&#45;&gt;</span> <a href="index.html#type-connection">connection</a></code></dt><dd><p>Creates a connection to the database with the given configuration.</p></dd></dl><dl><dt class="spec value" id="val-disconnect"><a href="#val-disconnect" class="anchor"></a><code><span class="keyword">val</span> disconnect : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Disconnects and destroys the connection to the database. The handler should not be used after calling disconnect.</p></dd></dl><dl><dt class="spec value" id="val-query"><a href="#val-query" class="anchor"></a><code><span class="keyword">val</span> query : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="index.html#type-statement">statement</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Executes the given SQL statement.</p></dd></dl><dl><dt class="spec value" id="val-execute"><a href="#val-execute" class="anchor"></a><code><span class="keyword">val</span> execute : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="index.html#type-statement">statement</a> <span>&#45;&gt;</span> int * <a href="index.html#type-result">result</a></code></dt><dd><p>Executes the given statement, returning the number of affected/returned rows and the return set.</p></dd></dl><dl><dt class="spec value" id="val-execute_"><a href="#val-execute_" class="anchor"></a><code><span class="keyword">val</span> execute_ : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="index.html#type-statement">statement</a> <span>&#45;&gt;</span> <a href="index.html#type-result">result</a></code></dt><dd><p>Like <code>execute</code>, but ignores the number of affected rows and only returns the return set.</p></dd></dl><dl><dt class="spec value" id="val-affected_rows"><a href="#val-affected_rows" class="anchor"></a><code><span class="keyword">val</span> affected_rows : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Returns the number of rows returned/affected by the last query.</p></dd></dl><dl><dt class="spec value" id="val-results"><a href="#val-results" class="anchor"></a><code><span class="keyword">val</span> results : <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> <a href="index.html#type-result">result</a></code></dt><dd><p>Gets the return set of the last query</p></dd></dl><dl><dt class="spec value" id="val-str_of_cell"><a href="#val-str_of_cell" class="anchor"></a><code><span class="keyword">val</span> str_of_cell : <a href="index.html#type-cell">cell</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-int_of_cell"><a href="#val-int_of_cell" class="anchor"></a><code><span class="keyword">val</span> int_of_cell : <a href="index.html#type-cell">cell</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-bool_of_cell"><a href="#val-bool_of_cell" class="anchor"></a><code><span class="keyword">val</span> bool_of_cell : <a href="index.html#type-cell">cell</a> <span>&#45;&gt;</span> bool</code></dt></dl></div></body></html>